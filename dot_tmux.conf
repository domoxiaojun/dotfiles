# ========================================
# Tmux 配置文件 - 简化版 + Catppuccin
# ========================================

# 启用 24-bit 真彩色支持
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# 鼠标支持
set -g mouse on

# 快捷键前缀（默认 Ctrl+b）
set -g prefix C-b
bind C-b send-prefix

# 窗口和面板编号从 1 开始（而不是 0）
set -g base-index 1
setw -g pane-base-index 1

# 分屏快捷键优化
bind | split-window -h -c "#{pane_current_path}"  # 垂直分屏
bind - split-window -v -c "#{pane_current_path}"  # 水平分屏

# Vim 风格的面板切换
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# 快速重载配置
bind r source-file ~/.tmux.conf \; display "配置已重载!"

# ========================================
# 插件配置
# ========================================

# 插件列表
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# 会话保存和恢复（推荐！非常实用）
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# 自动保存会话（每 15 分钟）
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# URL 和文件快速打开
set -g @plugin 'tmux-plugins/tmux-open'

# 复制增强（搜索、高亮）
set -g @plugin 'tmux-plugins/tmux-copycat'

# 模糊搜索选择文本（需要 fzf）
set -g @plugin 'laktak/extrakto'

# ========================================
# 初始化 TPM（必须放在配置文件最后）
# ========================================
run '~/.tmux/plugins/tpm/tpm'
